![alt text](16image1.png)

![alt text](16image2.png)

**不能先加锁再测试信号量：一个进程拿到锁，然后测试信号量发现=0 该进程睡眠无法释放锁，那么其他拿到锁。**

---
![alt text](16image3.png)
**管程引入条件变量在 未被唤醒且不满足条件时 释放’锁‘进入阻塞等待状态**

